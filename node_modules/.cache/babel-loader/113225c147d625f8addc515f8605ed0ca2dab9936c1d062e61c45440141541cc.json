{"ast":null,"code":"import{Link}from\"react-router-dom\";import Box from\"../atoms/Box\";import{useQuery}from\"react-query\";import{getCart}from\"../../services/api/cart\";import{useState}from\"react\";import{useEffect}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const staticServerUri=process.env.REACT_APP_PATH||\"\";// 검색, 배송정보, 장바구니\n// 장바구니 이미지로만 임시 구현\nconst GNBMenuUtil=_ref=>{var _data$data,_data$data$response;let{className=\"\"}=_ref;const{data}=useQuery(\"cart\",getCart);const[itemNum,setItemNum]=useState(data===null||data===void 0?void 0:(_data$data=data.data)===null||_data$data===void 0?void 0:(_data$data$response=_data$data.response)===null||_data$data$response===void 0?void 0:_data$data$response.products.length);useEffect(()=>{var _data$data2,_data$data2$response;setItemNum(data===null||data===void 0?void 0:(_data$data2=data.data)===null||_data$data2===void 0?void 0:(_data$data2$response=_data$data2.response)===null||_data$data2$response===void 0?void 0:_data$data2$response.products.reduce((acc,cur)=>{return acc+!cur.carts.every(option=>{return option.quantity===0;});},0));},[data]);return/*#__PURE__*/_jsx(Box,{className:className,children:/*#__PURE__*/_jsxs(Link,{to:staticServerUri+\"/cart\",children:[/*#__PURE__*/_jsx(\"img\",{alt:\"shopping cart\",src:staticServerUri+\"/cart.png\",className:\"w-9 h-9\"}),!!itemNum&&itemNum>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute top-[24px] left-[22px] min-w-[17px] px-[5px] rounded-[17px] text-center text-[11px] text-white font-semibold bg-red-500\",children:itemNum})]})});};export default GNBMenuUtil;","map":{"version":3,"names":["Link","Box","useQuery","getCart","useState","useEffect","jsx","_jsx","jsxs","_jsxs","staticServerUri","process","env","REACT_APP_PATH","GNBMenuUtil","_ref","_data$data","_data$data$response","className","data","itemNum","setItemNum","response","products","length","_data$data2","_data$data2$response","reduce","acc","cur","carts","every","option","quantity","children","to","alt","src"],"sources":["/Users/master/Desktop/coupon-project/kakaoshop-FE/src/components/molecules/GNBMenuUtil.jsx"],"sourcesContent":["import { Link } from \"react-router-dom\";\nimport Box from \"../atoms/Box\";\nimport { useQuery } from \"react-query\";\nimport { getCart } from \"../../services/api/cart\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\n\nconst staticServerUri = process.env.REACT_APP_PATH || \"\";\n// 검색, 배송정보, 장바구니\n// 장바구니 이미지로만 임시 구현\nconst GNBMenuUtil = ({ className = \"\" }) => {\n  const { data } = useQuery(\"cart\", getCart);\n  const [itemNum, setItemNum] = useState(data?.data?.response?.products.length);\n\n  useEffect(() => {\n    setItemNum(\n      data?.data?.response?.products.reduce((acc, cur) => {\n        return (\n          acc +\n          !cur.carts.every((option) => {\n            return option.quantity === 0;\n          })\n        );\n      }, 0)\n    );\n  }, [data]);\n\n  return (\n    <Box className={className}>\n      <Link to={staticServerUri + \"/cart\"}>\n        <img\n          alt=\"shopping cart\"\n          src={staticServerUri + \"/cart.png\"}\n          className=\"w-9 h-9\"\n        />\n        {!!itemNum && itemNum > 0 && (\n          <span className=\"absolute top-[24px] left-[22px] min-w-[17px] px-[5px] rounded-[17px] text-center text-[11px] text-white font-semibold bg-red-500\">\n            {itemNum}\n          </span>\n        )}\n      </Link>\n    </Box>\n  );\n};\nexport default GNBMenuUtil;\n"],"mappings":"AAAA,OAASA,IAAI,KAAQ,kBAAkB,CACvC,MAAO,CAAAC,GAAG,KAAM,cAAc,CAC9B,OAASC,QAAQ,KAAQ,aAAa,CACtC,OAASC,OAAO,KAAQ,yBAAyB,CACjD,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElC,KAAM,CAAAC,eAAe,CAAGC,OAAO,CAACC,GAAG,CAACC,cAAc,EAAI,EAAE,CACxD;AACA;AACA,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAwB,KAAAC,UAAA,CAAAC,mBAAA,IAAvB,CAAEC,SAAS,CAAG,EAAG,CAAC,CAAAH,IAAA,CACrC,KAAM,CAAEI,IAAK,CAAC,CAAGjB,QAAQ,CAAC,MAAM,CAAEC,OAAO,CAAC,CAC1C,KAAM,CAACiB,OAAO,CAAEC,UAAU,CAAC,CAAGjB,QAAQ,CAACe,IAAI,SAAJA,IAAI,kBAAAH,UAAA,CAAJG,IAAI,CAAEA,IAAI,UAAAH,UAAA,kBAAAC,mBAAA,CAAVD,UAAA,CAAYM,QAAQ,UAAAL,mBAAA,iBAApBA,mBAAA,CAAsBM,QAAQ,CAACC,MAAM,CAAC,CAE7EnB,SAAS,CAAC,IAAM,KAAAoB,WAAA,CAAAC,oBAAA,CACdL,UAAU,CACRF,IAAI,SAAJA,IAAI,kBAAAM,WAAA,CAAJN,IAAI,CAAEA,IAAI,UAAAM,WAAA,kBAAAC,oBAAA,CAAVD,WAAA,CAAYH,QAAQ,UAAAI,oBAAA,iBAApBA,oBAAA,CAAsBH,QAAQ,CAACI,MAAM,CAAC,CAACC,GAAG,CAAEC,GAAG,GAAK,CAClD,MACE,CAAAD,GAAG,CACH,CAACC,GAAG,CAACC,KAAK,CAACC,KAAK,CAAEC,MAAM,EAAK,CAC3B,MAAO,CAAAA,MAAM,CAACC,QAAQ,GAAK,CAAC,CAC9B,CAAC,CAAC,CAEN,CAAC,CAAE,CAAC,CACN,CAAC,CACH,CAAC,CAAE,CAACd,IAAI,CAAC,CAAC,CAEV,mBACEZ,IAAA,CAACN,GAAG,EAACiB,SAAS,CAAEA,SAAU,CAAAgB,QAAA,cACxBzB,KAAA,CAACT,IAAI,EAACmC,EAAE,CAAEzB,eAAe,CAAG,OAAQ,CAAAwB,QAAA,eAClC3B,IAAA,QACE6B,GAAG,CAAC,eAAe,CACnBC,GAAG,CAAE3B,eAAe,CAAG,WAAY,CACnCQ,SAAS,CAAC,SAAS,CACpB,CAAC,CACD,CAAC,CAACE,OAAO,EAAIA,OAAO,CAAG,CAAC,eACvBb,IAAA,SAAMW,SAAS,CAAC,kIAAkI,CAAAgB,QAAA,CAC/Id,OAAO,CACJ,CACP,EACG,CAAC,CACJ,CAAC,CAEV,CAAC,CACD,cAAe,CAAAN,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}